# Tianyuan Chanlun Trading System Crontab Configuration
# Last updated: 2025-11-26

# 每日盘前准备 (9:00 AM)
0 9 * * 1-5 cd /Users/pingan/tools/trade/tianyuan && /Users/pingan/tools/trade/tianyuan/chanlun_env/bin/python src/main.py --mode pre_market >> logs/system.log 2>&1

# 盘中监控 (9:30 AM - 2:50 PM，每10分钟执行)
*/10 9-14 * * 1-5 cd /Users/pingan/tools/trade/tianyuan && /Users/pingan/tools/trade/tianyuan/chanlun_env/bin/python src/main.py --mode monitor >> logs/system.log 2>&1

# 盘后分析 (3:30 PM)
30 15 * * 1-5 cd /Users/pingan/tools/trade/tianyuan && /Users/pingan/tools/trade/tianyuan/chanlun_env/bin/python src/main.py --mode post_market >> logs/system.log 2>&1

# 单次扫描 (8:00 PM) - 针对etfs.yaml中所有标的
0 20 * * 1-5 cd /Users/pingan/tools/trade/tianyuan && /Users/pingan/tools/trade/tianyuan/chanlun_env/bin/python src/main.py --mode scan_once --config config/etfs.yaml >> logs/system.log 2>&1

# 周线分析 (周日晚9:00 PM)
0 21 * * 0 cd /Users/pingan/tools/trade/tianyuan && /Users/pingan/tools/trade/tianyuan/chanlun_env/bin/python src/main.py --mode weekly_report >> logs/weekly.log 2>&1

# 数据清理和维护 (周六凌晨3:00 AM)
0 3 * * 6 cd /Users/pingan/tools/trade/tianyuan && /Users/pingan/tools/trade/tianyuan/chanlun_env/bin/python src/main.py --clean_cache >> logs/maintenance.log 2>&1

# 配置文件验证 (每天7:00 AM)
0 7 * * 1-5 cd /Users/pingan/tools/trade/tianyuan && /Users/pingan/tools/trade/tianyuan/chanlun_env/bin/python -c "import yaml; open('/Users/pingan/tools/trade/tianyuan/config/etfs.yaml', 'r')" >> logs/validation.log 2>&1